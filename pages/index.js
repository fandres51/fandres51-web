import Head from "next/head";
import Image from "next/image";
import styles from "../styles/Home.module.css";
import Link from "next/link";
import { getAllFilesMetadata } from "../lib/mdx";
import HeaderComponent from "../components/HeaderComponent";
import FooterComponent from "../components/FooterComponent";
import BannerComponent from "../components/BannerComponent";

export default function Home({ posts }) {
    return (
        <div className={styles.container}>
            <Head>
                <title>Create Next App</title>
                <meta
                    name="description"
                    content="Generated by create next app"
                />
                <link rel="icon" href="/favicon.ico" />
                <link rel="preconnect" href="https://fonts.googleapis.com" />
                <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin></link>
                <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet"></link>
            </Head>

            <main className={styles.main}>
                <HeaderComponent
                    title="@fandres51"
                    titleLink="/"
                    callToAction="Get in touch"
                    callToActionLink="https://linktr.ee/fandres51"
                ></HeaderComponent>
                <div className={styles.upperline}></div>
                <BannerComponent
                    message="Hi, I'm Fabio Andrés Enríquez, a Digital Marketing Student based on Quito, Ec."
                    buttonMessage="Check out my Portfolio"
                    buttonAction="/portfolio"
                ></BannerComponent>
            </main>
            <FooterComponent></FooterComponent>
        </div>
    );
}

export async function getStaticProps() {
    const posts = await getAllFilesMetadata();
    console.log(posts);

    return {
        props: { posts },
    };
}
